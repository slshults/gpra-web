import{r as s,j as e,R as T}from"./radix-vendor-BYROy4Fm.js";import{c as I,d as b,e as w,f as v,h as P,g as N,A as C,i as S,L as m,I as x,B as A,b as E,C as O,R as B}from"./alert-DpCKMoPX.js";import"./react-vendor-C8w-UNLI.js";const L=I("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),M=()=>{const[c,y]=s.useState(""),[i,p]=s.useState(""),[a,u]=s.useState(!1),[g,o]=s.useState(null),n=async l=>{if(l.preventDefault(),!c.trim()||!i.trim()){o("Please enter both email and password");return}u(!0),o(null);try{const d=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:i})}),r=await d.json();d.ok?window.location.href="/":o(r.error||"Invalid email or password")}catch{o("An error occurred. Please try again.")}finally{u(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-orange-500 mb-2",children:"Guitar Practice Routine App"}),e.jsx("p",{className:"text-gray-400",children:"Sign in to continue"})]}),e.jsxs(b,{className:"bg-gray-800 border-gray-700",children:[e.jsxs(w,{children:[e.jsx(v,{className:"text-gray-100",children:"Login"}),e.jsx(P,{className:"text-gray-400",children:"Enter your email and password to access your account"})]}),e.jsx(N,{children:e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[g&&e.jsxs(C,{className:"bg-red-900/30 border-red-700",children:[e.jsx(L,{className:"h-4 w-4 text-red-400"}),e.jsx(S,{className:"text-gray-300",children:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"email",className:"text-gray-200",children:"Email"}),e.jsx(x,{id:"email",type:"email",value:c,onChange:l=>y(l.target.value),placeholder:"you@example.com",className:"bg-gray-900 border-gray-600 text-gray-100",disabled:a,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"password",className:"text-gray-200",children:"Password"}),e.jsx(x,{id:"password",type:"password",value:i,onChange:l=>p(l.target.value),placeholder:"••••••••",className:"bg-gray-900 border-gray-600 text-gray-100",disabled:a,required:!0})]}),e.jsx(A,{type:"submit",className:"w-full bg-orange-600 hover:bg-orange-700 text-white",disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Login"}),e.jsxs("div",{className:"text-center text-sm text-gray-400 mt-4",children:["Don't have an account?"," ",e.jsx("a",{href:"/register",className:"text-orange-500 hover:text-orange-400 font-medium",children:"Sign up"})]})]})})]})]})})},U=()=>{const[c,y]=s.useState(""),[i,p]=s.useState(""),[a,u]=s.useState(""),[g,o]=s.useState(""),[n,l]=s.useState(!1),[d,r]=s.useState(null),[R,F]=s.useState(!1),k=()=>a.length<8?"Password must be at least 8 characters long":/[A-Z]/.test(a)?/[a-z]/.test(a)?/[0-9]/.test(a)?null:"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter",q=async t=>{if(t.preventDefault(),!c.trim()){r("Please enter a username");return}if(!i.trim()){r("Please enter an email");return}if(!a.trim()){r("Please enter a password");return}const f=k();if(f){r(f);return}if(a!==g){r("Passwords do not match");return}l(!0),r(null);try{const j=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,email:i,password:a})}),D=await j.json();j.ok?(F(!0),setTimeout(()=>{window.location.href="/login"},2e3)):r(D.error||"Registration failed")}catch{r("An error occurred. Please try again.")}finally{l(!1)}};return R?e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:e.jsx(b,{className:"w-full max-w-md bg-gray-800 border-gray-700",children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(O,{className:"h-16 w-16 text-green-500 mx-auto"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Account Created!"}),e.jsxs("p",{className:"text-gray-400",children:["Your account has been successfully created.",e.jsx("br",{}),"Redirecting to login page..."]})]})})})}):e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-orange-500 mb-2",children:"Guitar Practice Routine App"}),e.jsx("p",{className:"text-gray-400",children:"Create your account"})]}),e.jsxs(b,{className:"bg-gray-800 border-gray-700",children:[e.jsxs(w,{children:[e.jsx(v,{className:"text-gray-100",children:"Sign Up"}),e.jsx(P,{className:"text-gray-400",children:"Enter your details to create a new account"})]}),e.jsx(N,{children:e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[d&&e.jsxs(C,{className:"bg-red-900/30 border-red-700",children:[e.jsx(L,{className:"h-4 w-4 text-red-400"}),e.jsx(S,{className:"text-gray-300",children:d})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"username",className:"text-gray-200",children:"Username"}),e.jsx(x,{id:"username",type:"text",value:c,onChange:t=>y(t.target.value),placeholder:"johndoe",className:"bg-gray-900 border-gray-600 text-gray-100",disabled:n,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"email",className:"text-gray-200",children:"Email"}),e.jsx(x,{id:"email",type:"email",value:i,onChange:t=>p(t.target.value),placeholder:"you@example.com",className:"bg-gray-900 border-gray-600 text-gray-100",disabled:n,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"password",className:"text-gray-200",children:"Password"}),e.jsx(x,{id:"password",type:"password",value:a,onChange:t=>u(t.target.value),placeholder:"••••••••",className:"bg-gray-900 border-gray-600 text-gray-100",disabled:n,required:!0}),e.jsx("p",{className:"text-xs text-gray-500",children:"Must be 8+ characters with uppercase, lowercase, and number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"confirmPassword",className:"text-gray-200",children:"Confirm Password"}),e.jsx(x,{id:"confirmPassword",type:"password",value:g,onChange:t=>o(t.target.value),placeholder:"••••••••",className:"bg-gray-900 border-gray-600 text-gray-100",disabled:n,required:!0})]}),e.jsx(A,{type:"submit",className:"w-full bg-orange-600 hover:bg-orange-700 text-white",disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"}),e.jsxs("div",{className:"text-center text-sm text-gray-400 mt-4",children:["Already have an account?"," ",e.jsx("a",{href:"/login",className:"text-orange-500 hover:text-orange-400 font-medium",children:"Log in"})]})]})})]})]})})},h=document.getElementById("auth-root"),G=h==null?void 0:h.getAttribute("data-page"),J=G==="register"?U:M;B.createRoot(h).render(e.jsx(T.StrictMode,{children:e.jsx(J,{})}));
//# sourceMappingURL=auth.js.map
